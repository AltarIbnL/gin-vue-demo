{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport axios from 'axios';\nimport storageService from '../../service/storageService';\nimport { config } from \"@vue/cli-plugin-eslint/eslintOptions\"; // process 是vue底下的一个进程，env是保存的所有环境变量文件，VUE_APP 是VUE创建变量的前缀\n// 定义个一个axios\n\nvar service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_URL,\n  // 默认地址是VUE_APP_BASE_URL\n  timeout: 1000 * 5,\n  headers: {\n    Authorization: \"Bearer \".concat(storageService.get(storageService.USER_TOKEN))\n  }\n}); // 添加请求拦截器\n// 添加请求拦截器\n// eslint-disable-next-line no-shadow\n\nservice.interceptors.request.use(function (config) {\n  return (// 在发送请求之前做些什么\n    config\n  );\n}, function (error) {\n  // 对请求错误做些什么\n  return Promise.reject(error);\n});\nexport default service;","map":{"version":3,"names":["axios","storageService","config","service","create","baseURL","process","env","VUE_APP_BASE_URL","timeout","headers","Authorization","get","USER_TOKEN","interceptors","request","use","error","Promise","reject"],"sources":["E:/seafile/file/GO/pratical_practice/vue/vue/src/utils/request.js"],"sourcesContent":["// eslint-disable-next-line import/no-extraneous-dependencies\nimport axios from 'axios';\nimport storageService from '../../service/storageService';\nimport {config} from \"@vue/cli-plugin-eslint/eslintOptions\";\n// process 是vue底下的一个进程，env是保存的所有环境变量文件，VUE_APP 是VUE创建变量的前缀\n// 定义个一个axios\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_URL,  // 默认地址是VUE_APP_BASE_URL\n  timeout: 1000 * 5,\n  headers: { Authorization: `Bearer ${storageService.get(storageService.USER_TOKEN)}` },\n});\n// 添加请求拦截器\n// 添加请求拦截器\n// eslint-disable-next-line no-shadow\nservice.interceptors.request.use((config) =>\n  // 在发送请求之前做些什么\n   config\n, (error) => {\n  // 对请求错误做些什么\n  return Promise.reject(error);\n});\nexport default service;\n"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,SAAQC,MAAR,QAAqB,sCAArB,C,CACA;AACA;;AACA,IAAMC,OAAO,GAAGH,KAAK,CAACI,MAAN,CAAa;EAC3BC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,gBADM;EACa;EACxCC,OAAO,EAAE,OAAO,CAFW;EAG3BC,OAAO,EAAE;IAAEC,aAAa,mBAAYV,cAAc,CAACW,GAAf,CAAmBX,cAAc,CAACY,UAAlC,CAAZ;EAAf;AAHkB,CAAb,CAAhB,C,CAKA;AACA;AACA;;AACAV,OAAO,CAACW,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAACd,MAAD;EAAA,OAC/B;IACCA;EAF8B;AAAA,CAAjC,EAGE,UAACe,KAAD,EAAW;EACX;EACA,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAND;AAOA,eAAed,OAAf"},"metadata":{},"sourceType":"module"}